{"version":3,"sources":["coronita/components/c-select.js"],"names":["Coronita","clientflow","cSelect","CLASS_SHOW_CONTENT","CLASS_IS_FLOATED","CLASS_IS_DISABLED","SELECTOR_CORONITA_C_SELECT_OPTION_SELECTED","SELECTOR_CORONITA_C_SELECT_COMBOBOX","SELECTOR_CORONITA_C_SELECT_LABEL","SELECTOR_LISTBOX_OPTION_CONTENT","KEY_ENTER","KEY_SPACE","BOOLEAN_FORCE_FLOATED_TRUE","BOOLEAN_FORCE_FLOATED_FALSE","MOUSE_EVENTS_LISTENER_ADD","MOUSE_EVENTS_LISTENER_REMOVE","IS_EXPANDED","IS_NOT_EXPANDED","userData","data","selectedOption","clickOption","ev","selectOption","currentTarget","closeOnClickOption","closeListbox","$refs","combobox","focus","getAttribute","currentActiveOption","setAttribute","listbox","classList","remove","uiCoronitaComponentsListbox","moveResults","id","mouseEventsListener","labelFloated","exitListbox","generateListbox","setPosition","Array","from","children","forEach","option","addEventListener","forceFloated","comboValue","input","value","isFloated","isLabelOver","label","add","listboxKeyDown","getActiveOption","selectDisable","selectEnable","removeAttribute","selectGetValue","selectIsValid","Boolean","selectSetValue","querySelector","$activeOption","oldValue","newValue","setAriaSelected","setOptionLabel","optionSelectedHtml","trim","innerHTML","optionVisible","triggerInputChange","checkActiveDescendant","selectedText","textContent","labelText","toggleListbox","isExpanded","evIsClick","type","keyCode","preventDefault","removeEventListener","validate","uiCoronitaModulesValidation","validation","$","init","document","getElementById","hasValidation","color","disable","enable","getValue","setValue","isValid","ui","each","attr","split","hasClass"],"mappings":"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","sourcesContent":["// COMPONENT - c-select\n\nCoronita.clientflow.cSelect = (function () {\n  const CLASS_SHOW_CONTENT = 'show-content';\n  const CLASS_IS_FLOATED = 'is-floated';\n  const CLASS_IS_DISABLED = 'is-disabled';\n  const SELECTOR_CORONITA_C_SELECT_OPTION_SELECTED = '[data-coronita-c-select-option-selected]';\n  const SELECTOR_CORONITA_C_SELECT_COMBOBOX = '[data-coronita-c-select-combobox]';\n  const SELECTOR_CORONITA_C_SELECT_LABEL = '[data-coronita-c-select-label]';\n  const SELECTOR_LISTBOX_OPTION_CONTENT = '[data-coronita-c-listbox-option-content]';\n  const KEY_ENTER = 13;\n  const KEY_SPACE = 32;\n  const BOOLEAN_FORCE_FLOATED_TRUE = true;\n  const BOOLEAN_FORCE_FLOATED_FALSE = false;\n  const MOUSE_EVENTS_LISTENER_ADD = true;\n  const MOUSE_EVENTS_LISTENER_REMOVE = false;\n  const IS_EXPANDED = 'true';\n  const IS_NOT_EXPANDED = 'false';\n\n  return function (userData) {\n    let data = {\n      selectedOption: null\n    };\n  \n    function clickOption(ev) {\n      selectOption(ev.currentTarget);\n      if (userData.closeOnClickOption) {\n        closeListbox();\n      }\n      data.$refs.combobox.focus();\n    }\n  \n    function closeListbox() {\n      if (data.$refs.combobox.getAttribute('aria-expanded') === IS_EXPANDED) {\n        data.$refs.currentActiveOption = null;\n        data.$refs.combobox.setAttribute('aria-expanded', IS_NOT_EXPANDED);\n        data.$refs.listbox.classList.remove(CLASS_SHOW_CONTENT);\n        data.$refs.listbox = uiCoronitaComponentsListbox.moveResults(\n          userData.id,\n          data.$refs.cSelect\n        );\n        uiCoronitaComponentsListbox.mouseEventsListener(\n          MOUSE_EVENTS_LISTENER_REMOVE,\n          data.$refs.combobox,\n          data.$refs.listbox,\n          closeListbox\n        );\n        labelFloated(BOOLEAN_FORCE_FLOATED_FALSE);\n      }\n    }\n  \n    function exitListbox() {\n      closeListbox();\n      data.$refs.combobox.focus();\n    }\n  \n    function generateListbox() {\n      data.$refs.listbox = uiCoronitaComponentsListbox.moveResults(userData.id);\n      uiCoronitaComponentsListbox.setPosition(\n        data.$refs.listbox,\n        data.$refs.cSelect\n      );\n      Array.from(data.$refs.listbox.children).forEach(function(option) {\n        option.addEventListener('click', clickOption);\n      });\n      uiCoronitaComponentsListbox.mouseEventsListener(\n        MOUSE_EVENTS_LISTENER_ADD,\n        data.$refs.combobox,\n        data.$refs.listbox,\n        closeListbox\n      );\n    }\n  \n    function labelFloated(forceFloated) {\n      const comboValue = data.$refs.input.value;\n      const isFloated = (forceFloated || comboValue) && !userData.isLabelOver;\n      if (isFloated) {\n        data.$refs.label.classList.add(CLASS_IS_FLOATED);\n      } else {\n        data.$refs.label.classList.remove(CLASS_IS_FLOATED);\n      }\n    }\n  \n    function listboxKeyDown(ev) {\n      data.$refs.currentActiveOption = uiCoronitaComponentsListbox.getActiveOption(\n        data\n      );\n      uiCoronitaComponentsListbox.listboxKeyDown(ev, data, {\n        selectOption,\n        closeListbox: exitListbox\n      });\n    }\n  \n    function selectDisable() {\n      data.$refs.cSelect.classList.add(CLASS_IS_DISABLED);\n      data.$refs.input.setAttribute('disabled', 'true');\n      data.$refs.label.setAttribute('aria-disabled', 'true');\n      data.$refs.label.setAttribute('tabindex', '-1');\n    }\n  \n    function selectEnable() {\n      data.$refs.cSelect.classList.remove(CLASS_IS_DISABLED);\n      data.$refs.input.removeAttribute('disabled');\n      data.$refs.label.removeAttribute('aria-disabled');\n      data.$refs.label.setAttribute('tabindex', '0');\n    }\n    function selectGetValue() {\n      return data.$refs.input.value;\n    }\n  \n    function selectIsValid() {\n      return !Boolean(data.$refs.combobox.getAttribute('aria-invalid'));  // eslint-disable-line\n    }\n  \n    function selectSetValue(value) {\n      selectOption(data.$refs.listbox.querySelector(`[data-value=\"${value}\"]`));\n      labelFloated(BOOLEAN_FORCE_FLOATED_FALSE);\n    }\n  \n    function selectOption($activeOption) {\n      const oldValue = data.$refs.input.value;\n      if ($activeOption) {\n        const newValue = $activeOption.getAttribute('data-value');\n        uiCoronitaComponentsListbox.setAriaSelected($activeOption);\n        setOptionLabel($activeOption);\n        const optionSelectedHtml = $activeOption.getAttribute('data-content')\n          ? $activeOption.getAttribute('data-content').trim()\n          : $activeOption\n              .querySelector(SELECTOR_LISTBOX_OPTION_CONTENT)\n              .innerHTML.trim();\n        data.$refs.optionVisible.innerHTML = optionSelectedHtml;\n        if (oldValue !== newValue) {\n          data.$refs.input.value = newValue;\n          data.selectedOption = $activeOption.id;\n          uiCoronitaComponentsListbox.triggerInputChange(data.$refs.input);\n        }\n        uiCoronitaComponentsListbox.checkActiveDescendant(\n          data.$refs.listbox,\n          data.$refs.listbox\n        );\n      }\n    }\n  \n    function setOptionLabel($activeOption) {\n      const selectedText = $activeOption.textContent.trim();\n      const labelText = data.$refs.combobox.getAttribute('data-label').trim();\n      data.$refs.combobox.setAttribute(\n        'aria-label',\n        labelText + (selectedText ? ` ${selectedText}` : '')\n      );\n    }\n  \n    function toggleListbox(ev) {\n      if (\n        data.$refs.combobox.getAttribute('aria-disabled') !== 'true' &&\n        data.$refs.combobox.getAttribute('aria-readonly') !== 'true'\n      ) {\n        const isExpanded =\n          data.$refs.combobox.getAttribute('aria-expanded') === IS_EXPANDED;\n        const evIsClick =\n          ev.type === 'click' ||\n          ev.keyCode === KEY_ENTER ||\n          ev.keyCode === KEY_SPACE;\n  \n        if (!isExpanded && evIsClick) {\n          ev.preventDefault();\n          generateListbox();\n          data.$refs.combobox.setAttribute('aria-expanded', IS_EXPANDED);\n          data.$refs.listbox.classList.add(CLASS_SHOW_CONTENT);\n          data.$refs.listbox.focus();\n          data.$refs.listbox.addEventListener('keydown', listboxKeyDown);\n          labelFloated(BOOLEAN_FORCE_FLOATED_TRUE);\n        } else if (isExpanded && ev.type === 'click') {\n          data.$refs.combobox.focus();\n          data.$refs.listbox.removeEventListener('keydown', listboxKeyDown);\n          closeListbox();\n        }\n      }\n    }\n  \n    function validate() {\n      return uiCoronitaModulesValidation.validate(\n        data.$refs.input.value,\n        userData.validation,\n        $(data.$refs.cSelect)\n      );\n    }\n  \n    /**\n     * init method\n     * Call template mixin '_.c_coronita_c_select()' (c_coronita_c_select.tmpl.html)\n     * @public\n     */\n    function init() {\n      const cSelect = document.getElementById(`c-select-${userData.id}`);\n      data.$refs = {\n        cSelect: cSelect,\n        combobox: cSelect.querySelector(SELECTOR_CORONITA_C_SELECT_COMBOBOX),\n        listbox: document.getElementById(`c-listbox-${userData.id}`),\n        optionVisible: cSelect.querySelector(\n          SELECTOR_CORONITA_C_SELECT_OPTION_SELECTED\n        ),\n        input: cSelect.querySelector('input'),\n        label: cSelect.querySelector(SELECTOR_CORONITA_C_SELECT_LABEL),\n        currentActiveOption: null\n      };\n  \n      const $activeOption = uiCoronitaComponentsListbox.getActiveOption(data);\n      if ($activeOption) {\n        setOptionLabel($activeOption);\n      }\n  \n      uiCoronitaComponentsListbox.checkActiveDescendant(\n        data.$refs.listbox,\n        data.$refs.listbox\n      );\n  \n      data.$refs.combobox.addEventListener('click', toggleListbox);\n      data.$refs.combobox.addEventListener('keydown', toggleListbox);\n  \n      if (userData.hasValidation) {\n        $(data.$refs.cSelect).data('validate', validate);\n      }\n  \n      uiCoronitaModulesValidation.init(\n        $(data.$refs.listbox),\n        $(cSelect),\n        userData.validation || {},\n        userData.color\n      );\n    }\n  \n    return {\n      init: init,\n      disable: selectDisable,\n      enable: selectEnable,\n      getValue: selectGetValue,\n      setValue: selectSetValue,\n      isValid: selectIsValid,\n      validate\n    };\n  };\n})();\n\nCoronita.ui.cSelect = (function () {\n  function init () {\n    $('[data-coronita-c-select]').each(function () {\n      var cSelect = Coronita.clientflow.cSelect({\n        id: $(this).attr('id').split('c-select-')[1],\n        closeOnClickOption: true,\n        isLabelOver: $(this).hasClass('c-select--label-over')\n      });\n      cSelect.init();\n    });\n  }\n\n  return {\n    init\n  };\n})();\n"],"file":"c-select.js"}