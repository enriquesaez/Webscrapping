{"version":3,"sources":["coronita/objects/o-dialog.js"],"names":["Coronita","ui","oDialog","bpDashboardTooltipDialog","$dialog","params","$positioner","$target","closest","css","top","outerHeight","position","left","dialog","find","triangle","tooltipDialog","is","$","offset","exitDialog","addClass","attr","document","off","focus","openDialog","ev","idDialog","$focusables","removeClass","eq","on","keyCode","init"],"mappings":"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","sourcesContent":["// OBJECT - o-dialog\n\nCoronita.ui.oDialog = (function () {\n  function bpDashboardTooltipDialog ($dialog, params) {\n    var $positioner = $target.closest('[data-layout-dialog-positioner]');\n    $dialog.css({\n      top: $positioner.outerHeight() + $positioner.position().top + 20,\n      left: params.dialog.left\n    })\n      .find('.o-dialog__triangle')\n      .css({\n        left: params.triangle.left\n      });\n  }\n\n  function tooltipDialog ($dialog) {\n    if ($dialog.is('#dialog-edit-monthly-income')) {\n      var $positioner = $(this).closest('[data-layout-dialog-positioner]');\n      $dialog.css({\n        top: $positioner.outerHeight() + $positioner.offset().top + 24\n      });\n    }\n\n    if ($dialog.is('#dialog-bp-edit-income-1')) {\n      bpDashboardTooltipDialog($dialog, {\n        dialog: {\n          left: -434\n        },\n        triangle: {\n          left: 602\n        }\n      });\n    }\n\n    if ($dialog.is('#dialog-bp-edit-income-2')) {\n      bpDashboardTooltipDialog($dialog, {\n        dialog: {\n          left: -302\n        },\n        triangle: {\n          left: 310\n        }\n      });\n    }\n\n    if ($dialog.is('#dialog-bp-edit-income-1a')) {\n      bpDashboardTooltipDialog($dialog, {\n        dialog: {\n          left: -122\n        },\n        triangle: {\n          left: 602\n        }\n      });\n    }\n\n    if ($dialog.is('#dialog-bp-edit-income-2a')) {\n      bpDashboardTooltipDialog($dialog, {\n        dialog: {\n          left: 10\n        },\n        triangle: {\n          left: 310\n        }\n      });\n    }\n\n    if ($dialog.is('#dialog-bp-edit-savings-1')) {\n      bpDashboardTooltipDialog($dialog, {\n        dialog: {\n          left: -242\n        },\n        triangle: {\n          left: 250\n        }\n      });\n    }\n  }\n\n  function exitDialog ($dialog, $target) {\n    $dialog.addClass('hide-content').attr('aria-hidden', 'true');\n    $('body').css({\n      'overflow-y': ''\n    });\n    $(document).off('keyup.dialog');\n    $target.focus();\n  }\n\n  function openDialog (ev, $target) {\n    var idDialog = $target.attr('data-layout-dialog-open');\n    var $dialog = $('[data-layout-dialog=\"' + idDialog + '\"]');\n    var $focusables = $dialog.find(':focusable');\n\n    tooltipDialog($dialog);\n\n    $dialog.removeClass('hide-content').attr('aria-hidden', 'false');\n    $('body').css({\n      'overflow-y': 'hidden'\n    });\n    $focusables.eq(0).focus();\n    $dialog.find('[data-layout-dialog-close]')\n      .on('click.dialog', function () {\n        exitDialog($dialog, $target);\n      });\n\n    $(document).on('keyup.dialog', function (ev) {\n      if (ev.keyCode === 27) {\n        exitDialog($dialog, $target);\n      }\n    });\n  }\n\n  function init () {\n    $('[data-layout-dialog-open]').on('click.dialog', function (ev) {\n      openDialog(ev, $(this));\n    });\n  }\n\n  return {\n    init: init\n  };\n})();\n"],"file":"o-dialog.js"}