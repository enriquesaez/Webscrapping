{"version":3,"sources":["m-search.js"],"names":["$","document","ready","listOptions","closeCombo","attr","removeClass","options","optionId","optionText","each","on","event","which","type","text","closest","prev","val","trim","siblings","removeAttr","find","addClass","childSelected","combo","comboValue","length","parent","hasClass","input","is","next","children","focus","defaultText","html"],"mappings":"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","sourcesContent":["// input predictive script\n\n$(document).ready(function() {\n\n  var listOptions;\n\n  function closeCombo() {\n    $(\".m-search__button\").attr(\"aria-expanded\", \"false\");\n    $(\".m-search__wrapper-list\").removeClass(\"show-content\");\n  }\n\n  function options() {\n    var optionId;\n    var optionText;\n    $.each(listOptions, function() {\n      $(this).on(\"keypress click\", function(event) {\n        if (event.which === 13 || event.type === 'click') {\n          optionId = $(this).attr(\"id\");\n          optionText = $(this).text();\n          $(this).closest('.m-search__wrapper-list').prev().val($.trim(optionText));\n          $(this).attr(\"aria-selected\", \"true\");\n          $(this).siblings().removeAttr(\"aria-selected\");\n          $(this).closest('.m-search__box').find('label').addClass('is-floated');\n          closeCombo();\n        };\n      });\n    });\n  }\n\n  $(\".m-search__input\").each(function(){\n    var childSelected= $(\"[aria-selected]\",$(this).siblings(\"ul\"));\n    var combo = $(this).closest(\".m-search\");\n    var comboValue = $(this).val();\n    if ($(this).attr(\"aria-disabled\")) {\n      $(this).attr(\"tabindex\", \"-1\");\n    }\n    if (childSelected.length > 0) {\n      $(this).val(childSelected.text());\n    }\n    if (comboValue.length > 0 && combo.length) {\n      if(!$(this).parent().parent().hasClass('m-search__box--label-over')) {\n        $(this).parent().prev().addClass(\"is-floated\");\n      }\n    }\n  })\n\n  $(\".m-search__button\").on(\"keypress click\", function(event) {\n    var input = $(this).prev().find('.m-search__input');\n    if(input.val().length!=0) {\n      if (!input.is(\"[disabled]\") && !input.is(\"[readonly]\")) {\n        if (event.which === 13 || event.type === 'click') {\n          listOptions = input.next().find(\".m-search__listbox\").children();\n          if ($(this).is(\"[aria-expanded=true]\")) {\n            closeCombo();\n          } else {\n            closeCombo();\n            $(this).attr(\"aria-expanded\", \"true\");\n            input.next().addClass(\"show-content\");\n            input.next().find(\".m-search__listbox\").focus();\n            options(listOptions);\n          }\n        };\n      };\n    }\n  });\n\n  $('.m-search__message').on(\"keypress click\", function(event) {\n    var defaultText = $(this).html();\n    $(this).closest('.m-search__wrapper-list').prev().val(defaultText);\n    $(this).prev().children().siblings().removeAttr(\"aria-selected\");\n    $(this).closest('.m-search__box').find('label').addClass('is-floated');\n    closeCombo();\n  });\n\n});\n"],"file":"m-search.js"}