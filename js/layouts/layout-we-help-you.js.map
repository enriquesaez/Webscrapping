{"version":3,"sources":["layouts/layout-we-help-you.js"],"names":["$","document","ready","helper","$article","$otherArticle","validateSaveProduct","articleVal","val","otherArticleVal","isOther","isUnselected","isNotWritten","length","saveProduct","time","Date","getTime","lastSlider","last","article","attr","html","append","clone","replaceable","find","text","attrFor","attrId","attrIdText","attrDescribedBy","replace","RegExp","after","hideAdd","each","closest","addClass","parent","addProduct","removeClass","cancelAdd","removeArticlesOpacity","css","hide","on","children","is","scroll","scrollTop","paddingTop","removeAttr","setTimeout","$icon","$row","hover"],"mappings":"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","sourcesContent":["// expense-calculator.jade\n\n// baby-gear.jade\n$(document).ready(function() {\n  var helper,\n    $article = $('#add-article-combo-box'),\n      $otherArticle = $('#other-article-input-box');\n\n  helper = {\n    validateSaveProduct: function () {\n      var articleVal = $article.val(),\n        otherArticleVal = $otherArticle.val(),\n        isOther = (articleVal === 'Otros'),\n        isUnselected = (articleVal === 'Selecciona una opci√≥n*'),\n        isNotWritten = otherArticleVal.length < 1;\n      return (!isUnselected && !isOther) || (isOther && !isNotWritten);\n    },\n    saveProduct: function () {\n      if (helper.validateSaveProduct()) {\n        var time = new Date().getTime(),\n          lastSlider = $('article.row.margin-bottom-large').last(),\n          article = $article.attr('value'),\n          html = $('<div></div>').append(lastSlider.clone()).html(),\n          replaceable = $(html).find('h3').text(),\n          attrFor,\n          attrId,\n          attrIdText,\n          attrDescribedBy;\n\n        article = (article === 'Otros') ? $otherArticle.val() : article;\n\n        html = html.replace(new RegExp(replaceable, 'gm'), article);\n      \n        attrFor = $(html).find('[for^=\"article-check-\"]').attr('for');\n        attrId = $(html).find('[type=\"range\"]').attr('id');\n        attrIdText = $(html).find('[id^=\"article-input-box-]').attr('id');\n        attrDescribedBy = $(html).find('[aria-describedby^=\"article-slider-description-]').attr('aria-describedby');\n        html = html.replace(new RegExp(attrFor, 'gm'), 'article-check-' + time);\n        html = html.replace(new RegExp(attrId, 'gm'), 'article-check-' + time);\n        //html = html.replace(new RegExp(attrDescribedBy, 'gm'), 'article-slider-description-' + time);\n        html = html.replace(new RegExp('id=\"' + attrIdText, 'gm'), 'id=\"article-input-box-' + time);\n        \n\n        lastSlider.after(html);\n        helper.hideAdd();\n      } else {\n        $article.each(function () {\n          $(this)\n            .after('<i class=\"c-combo-box__icon c-icon-alert\" aria-hidden=\"true\"></i>')\n            .closest('.c-input-box, .c-combo-box')\n            .addClass('is-invalid');\n         \n          $(this)\n            .attr('aria-describedby', 'error-' + $(this).attr('id'))\n            .parent()\n            .append('<span class=\"c-input-box__description\" id=\"error-' + $(this).attr('id') + '\">Ya has agregado un producto con \"Otros\"</span>');\n        });\n        $otherArticle.each(function () {\n          $(this)\n            .after('<i class=\"c-input-box__icon c-icon-alert\" aria-hidden=\"true\"></i>')\n            .closest('.c-input-box, .c-combo-box')\n            .addClass('is-invalid');\n          \n          $(this)\n            .attr('aria-describedby', 'error-' + $(this).attr('id'))\n            .parent()\n            .append('<span class=\"c-input-box__description\" id=\"error-' + $(this).attr('id') + '\">El nombre del producto es obligatorio</span>');\n        });\n      }\n    },\n    addProduct: function() {\n      \n      $(\"#add-article-button\")\n        .addClass(\"hide-content\")\n        .attr(\"aria-expanded\", \"true\")\n        .attr(\"aria-hidden\", \"true\");\n      $('#save-article-button')\n        .removeClass('hide-content')\n        .attr('aria-hidden', 'false');\n\n      $(\"#cancel-add-article-button\")\n        .removeClass(\"hide-content\")\n        .attr(\"aria-expanded\", \"true\");\n      $(\"#add-article-form\")\n        .removeClass(\"hide-content\")\n        .attr(\"aria-hidden\", \"false\");\n    },\n    cancelAdd: function () {\n      helper.hideAdd();\n    },\n    hideAdd: function() {\n      $(\"#cancel-add-article-button\")\n        .attr(\"aria-expanded\", \"false\")\n        .addClass(\"hide-content\");\n      $(\"#add-article-button\")\n        .removeClass('hide-content')\n        .attr(\"aria-expanded\", \"false\")\n        .attr('aria-hidden', 'false');\n\n      $(\"#add-article-form\")\n        .addClass(\"hide-content\")\n        .attr(\"aria-hidden\", \"true\");\n      $('#save-article-button')\n        .addClass(\"hide-content\")\n        .attr(\"aria-hidden\", \"true\");\n    },\n    removeArticlesOpacity: function() {\n      $(this).css(\"opacity\", \"0.1\");\n      \n      $(\"#set-opacity\")\n        .find('.m-slide-input-box')\n        .find('.o-heading')\n        .hide();\n\n      $(\"#set-opacity\")\n        .find('.m-slide-input-box')\n        .find('label.c-checkbox--bodycopy')\n        .removeClass('hide-content');\n\n      $(\"#set-opacity\")\n        .find('.m-slide-input-box')\n        .find('.m-slide-input-box__validation, .m-validation__error')\n        .css(\"opacity\", \"0.1\");\n\n      $(\"#set-opacity\")\n        .find(\"#add-article-content\").addClass(\"hide-content\");\n      $(\"#set-opacity\")\n        .find(\"#remove-article-buttons\").removeClass(\"hide-content\");\n\n\n      /*$(\"#set-opacity\")\n        .find(\"#download-button, #save-list-button, .c-slider, .c-input-box\")\n        .css(\"opacity\", \"0.1\");\n      $(\"#set-opacity\")\n        .find(\"article h3.c-bodycopy--bold, #add-article-content\").addClass(\"hide-content\");\n      $(\"#set-opacity\")\n        .find(\"article label.c-checkbox--bodycopy, #remove-article-buttons\").removeClass(\"hide-content\");\n      $(\"#set-opacity\")\n        .find('[type=\"range\"], [type=\"text\"], [role=\"combobox\"], [role=\"button\"]').attr({\n          'aria-hidden': 'true',\n          'tabindex': '-1'\n        })*/\n        //- .find('[type=\"range\"], [type=\"text\"]').attr({\n        //-   'aria-hidden': 'true',\n        //-   'disabled': 'true'\n        //- })\n    }\n  };\n\n  $(\"#add-article-button\").on('click.add', helper.addProduct);\n  $('#save-article-button').on('click.save', helper.saveProduct);\n\n  $(\"#cancel-add-article-button\").on( \"click.cancelAdd\", helper.cancelAdd);\n\n  $otherArticle.closest('.c-input-box').addClass(\"hide-content\");\n  $('#combo-box-listbox').children().on('click', function () {\n    if ($(this).is(':last-child')) {\n      $otherArticle.closest('.c-input-box').removeClass(\"hide-content\");\n    } else {\n      $otherArticle.closest('.c-input-box').addClass(\"hide-content\");\n    }\n  });\n  $(document).scroll(function () {\n    if ($(document).scrollTop() > 390) {\n      $('.m-sticky-bar')\n        .addClass('m-sticky-bar--sticked')\n        .parent()\n        .css({\n          paddingTop: 96+48+16\n        });\n    } else {\n      $('.m-sticky-bar')\n        .removeClass('m-sticky-bar--sticked')\n        .parent()\n        .removeAttr('style');\n    }\n    \n  });\n\n  $('#save-list-button').on('click.save', function () {\n    $('.m-alert--popup').removeClass('hide-content');\n    setTimeout(function () {\n      $('.m-alert--popup').addClass('hide-content');\n    }, 3000);\n  });\n\n  $('[data-layout-row-edit]').each(function () {\n    var $icon = $(this).find('.c-icon-contract'),\n    $row = $(this).closest('article');\n    $row.hover(function () {\n      $icon.removeClass('hide-content');\n    }, function () {\n      $icon.addClass('hide-content');\n    });\n    $row.find('[type=\"text\"]').on('focus.text', function () {\n      $icon.removeClass('hide-content');\n    });\n  });\n  \n\n});\n"],"file":"layout-we-help-you.js"}